{"ast":null,"code":"import { forwardRef, useRef, useCallback, useImperativeHandle, Fragment, cloneElement } from 'react';\nimport { oneOfType, element, func } from 'prop-types';\nimport { ControlledMenu } from './ControlledMenu.js';\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { useMenuStateAndFocus } from '../hooks/useMenuStateAndFocus.js';\nimport { useClick } from '../hooks/useClick.js';\nimport { useCombinedRef } from '../hooks/useCombinedRef.js';\nimport { safeCall, mergeProps, getName, isMenuOpen } from '../utils/utils.js';\nimport { useMenuChange } from '../hooks/useMenuChange.js';\nimport { rootMenuPropTypes, uncontrolledMenuPropTypes } from '../utils/propTypes.js';\nimport { FocusPositions, Keys } from '../utils/constants.js';\nconst Menu = /*#__PURE__*/forwardRef(function Menu({\n  'aria-label': ariaLabel,\n  captureFocus: _,\n  initialOpen: _1,\n  menuButton,\n  instanceRef,\n  onMenuChange,\n  ...restProps\n}, externalRef) {\n  const [stateProps, toggleMenu, openMenu] = useMenuStateAndFocus(restProps);\n  const {\n    state\n  } = stateProps;\n  const isOpen = isMenuOpen(state);\n  const buttonRef = useRef(null);\n  const anchorProps = useClick(state, (_, e) => openMenu(!e.detail ? FocusPositions.FIRST : undefined));\n  const handleClose = useCallback(e => {\n    toggleMenu(false);\n    if (e.key) buttonRef.current.focus();\n  }, [toggleMenu]);\n  const onKeyDown = e => {\n    switch (e.key) {\n      case Keys.UP:\n        openMenu(FocusPositions.LAST);\n        break;\n      case Keys.DOWN:\n        openMenu(FocusPositions.FIRST);\n        break;\n      default:\n        return;\n    }\n    e.preventDefault();\n  };\n  const button = safeCall(menuButton, {\n    open: isOpen\n  });\n  if (!button || !button.type) throw new Error('Menu requires a menuButton prop.');\n  const buttonProps = {\n    ref: useCombinedRef(button.ref, buttonRef),\n    ...mergeProps({\n      onKeyDown,\n      ...anchorProps\n    }, button.props)\n  };\n  if (getName(button.type) === 'MenuButton') {\n    buttonProps.isOpen = isOpen;\n  }\n  const renderButton = /*#__PURE__*/cloneElement(button, buttonProps);\n  useMenuChange(onMenuChange, isOpen);\n  useImperativeHandle(instanceRef, () => ({\n    openMenu,\n    closeMenu: () => toggleMenu(false)\n  }));\n  return /*#__PURE__*/jsxs(Fragment, {\n    children: [renderButton, /*#__PURE__*/jsx(ControlledMenu, {\n      ...restProps,\n      ...stateProps,\n      \"aria-label\": ariaLabel || (typeof button.props.children === 'string' ? button.props.children : 'Menu'),\n      anchorRef: buttonRef,\n      ref: externalRef,\n      onClose: handleClose\n    })]\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Menu.propTypes = {\n  ...rootMenuPropTypes,\n  ...uncontrolledMenuPropTypes,\n  menuButton: oneOfType([element, func]).isRequired\n} : void 0;\nexport { Menu };","map":{"version":3,"names":["forwardRef","useRef","useCallback","useImperativeHandle","Fragment","cloneElement","oneOfType","element","func","ControlledMenu","jsxs","jsx","useMenuStateAndFocus","useClick","useCombinedRef","safeCall","mergeProps","getName","isMenuOpen","useMenuChange","rootMenuPropTypes","uncontrolledMenuPropTypes","FocusPositions","Keys","Menu","ariaLabel","captureFocus","_","initialOpen","_1","menuButton","instanceRef","onMenuChange","restProps","externalRef","stateProps","toggleMenu","openMenu","state","isOpen","buttonRef","anchorProps","e","detail","FIRST","undefined","handleClose","key","current","focus","onKeyDown","UP","LAST","DOWN","preventDefault","button","open","type","Error","buttonProps","ref","props","renderButton","closeMenu","children","anchorRef","onClose","process","env","NODE_ENV","propTypes","isRequired"],"sources":["/Users/hamzaaslam/VSCode/autode/client/node_modules/@szhsin/react-menu/dist/es/components/Menu.js"],"sourcesContent":["import { forwardRef, useRef, useCallback, useImperativeHandle, Fragment, cloneElement } from 'react';\nimport { oneOfType, element, func } from 'prop-types';\nimport { ControlledMenu } from './ControlledMenu.js';\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { useMenuStateAndFocus } from '../hooks/useMenuStateAndFocus.js';\nimport { useClick } from '../hooks/useClick.js';\nimport { useCombinedRef } from '../hooks/useCombinedRef.js';\nimport { safeCall, mergeProps, getName, isMenuOpen } from '../utils/utils.js';\nimport { useMenuChange } from '../hooks/useMenuChange.js';\nimport { rootMenuPropTypes, uncontrolledMenuPropTypes } from '../utils/propTypes.js';\nimport { FocusPositions, Keys } from '../utils/constants.js';\n\nconst Menu = /*#__PURE__*/forwardRef(function Menu({\n  'aria-label': ariaLabel,\n  captureFocus: _,\n  initialOpen: _1,\n  menuButton,\n  instanceRef,\n  onMenuChange,\n  ...restProps\n}, externalRef) {\n  const [stateProps, toggleMenu, openMenu] = useMenuStateAndFocus(restProps);\n  const {\n    state\n  } = stateProps;\n  const isOpen = isMenuOpen(state);\n  const buttonRef = useRef(null);\n  const anchorProps = useClick(state, (_, e) => openMenu(!e.detail ? FocusPositions.FIRST : undefined));\n  const handleClose = useCallback(e => {\n    toggleMenu(false);\n    if (e.key) buttonRef.current.focus();\n  }, [toggleMenu]);\n  const onKeyDown = e => {\n    switch (e.key) {\n      case Keys.UP:\n        openMenu(FocusPositions.LAST);\n        break;\n      case Keys.DOWN:\n        openMenu(FocusPositions.FIRST);\n        break;\n      default:\n        return;\n    }\n    e.preventDefault();\n  };\n  const button = safeCall(menuButton, {\n    open: isOpen\n  });\n  if (!button || !button.type) throw new Error('Menu requires a menuButton prop.');\n  const buttonProps = {\n    ref: useCombinedRef(button.ref, buttonRef),\n    ...mergeProps({\n      onKeyDown,\n      ...anchorProps\n    }, button.props)\n  };\n  if (getName(button.type) === 'MenuButton') {\n    buttonProps.isOpen = isOpen;\n  }\n  const renderButton = /*#__PURE__*/cloneElement(button, buttonProps);\n  useMenuChange(onMenuChange, isOpen);\n  useImperativeHandle(instanceRef, () => ({\n    openMenu,\n    closeMenu: () => toggleMenu(false)\n  }));\n  return /*#__PURE__*/jsxs(Fragment, {\n    children: [renderButton, /*#__PURE__*/jsx(ControlledMenu, {\n      ...restProps,\n      ...stateProps,\n      \"aria-label\": ariaLabel || (typeof button.props.children === 'string' ? button.props.children : 'Menu'),\n      anchorRef: buttonRef,\n      ref: externalRef,\n      onClose: handleClose\n    })]\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Menu.propTypes = {\n  ...rootMenuPropTypes,\n  ...uncontrolledMenuPropTypes,\n  menuButton: oneOfType([element, func]).isRequired\n} : void 0;\n\nexport { Menu };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}