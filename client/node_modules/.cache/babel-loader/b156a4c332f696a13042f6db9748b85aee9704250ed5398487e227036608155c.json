{"ast":null,"code":"import { useState, useRef, useCallback, useEffect } from 'react';\nimport { getState, ENTERED, startOrEnd, getEndStatus, PRE_EXIT, EXITING, getTimeout, nextTick, PRE_ENTER, ENTERING } from './utils.js';\nconst updateState = (status, setState, latestState, timeoutId, onChange) => {\n  clearTimeout(timeoutId.current);\n  const state = getState(status);\n  setState(state);\n  latestState.current = state;\n  onChange && onChange({\n    current: state\n  });\n};\nconst useTransition = ({\n  enter = true,\n  exit = true,\n  preEnter,\n  preExit,\n  timeout,\n  initialEntered,\n  mountOnEnter,\n  unmountOnExit,\n  onStateChange: onChange\n} = {}) => {\n  const [state, setState] = useState(() => getState(initialEntered ? ENTERED : startOrEnd(mountOnEnter)));\n  const latestState = useRef(state);\n  const timeoutId = useRef();\n  const [enterTimeout, exitTimeout] = getTimeout(timeout);\n  const endTransition = useCallback(() => {\n    const status = getEndStatus(latestState.current._s, unmountOnExit);\n    status && updateState(status, setState, latestState, timeoutId, onChange);\n  }, [onChange, unmountOnExit]);\n  const toggle = useCallback(toEnter => {\n    const transitState = status => {\n      updateState(status, setState, latestState, timeoutId, onChange);\n      switch (status) {\n        case ENTERING:\n          if (enterTimeout >= 0) timeoutId.current = setTimeout(endTransition, enterTimeout);\n          break;\n        case EXITING:\n          if (exitTimeout >= 0) timeoutId.current = setTimeout(endTransition, exitTimeout);\n          break;\n        case PRE_ENTER:\n        case PRE_EXIT:\n          timeoutId.current = nextTick(transitState, status);\n          break;\n      }\n    };\n    const enterStage = latestState.current.isEnter;\n    if (typeof toEnter !== 'boolean') toEnter = !enterStage;\n    if (toEnter) {\n      !enterStage && transitState(enter ? preEnter ? PRE_ENTER : ENTERING : ENTERED);\n    } else {\n      enterStage && transitState(exit ? preExit ? PRE_EXIT : EXITING : startOrEnd(unmountOnExit));\n    }\n  }, [endTransition, onChange, enter, exit, preEnter, preExit, enterTimeout, exitTimeout, unmountOnExit]);\n  useEffect(() => () => clearTimeout(timeoutId.current), []);\n  return [state, toggle, endTransition];\n};\nexport { useTransition };","map":{"version":3,"names":["useState","useRef","useCallback","useEffect","getState","ENTERED","startOrEnd","getEndStatus","PRE_EXIT","EXITING","getTimeout","nextTick","PRE_ENTER","ENTERING","updateState","status","setState","latestState","timeoutId","onChange","clearTimeout","current","state","useTransition","enter","exit","preEnter","preExit","timeout","initialEntered","mountOnEnter","unmountOnExit","onStateChange","enterTimeout","exitTimeout","endTransition","_s","toggle","toEnter","transitState","setTimeout","enterStage","isEnter"],"sources":["/Users/hamzaaslam/VSCode/autode/client/node_modules/react-transition-state/dist/es/hooks/useTransition.js"],"sourcesContent":["import { useState, useRef, useCallback, useEffect } from 'react';\nimport { getState, ENTERED, startOrEnd, getEndStatus, PRE_EXIT, EXITING, getTimeout, nextTick, PRE_ENTER, ENTERING } from './utils.js';\n\nconst updateState = (status, setState, latestState, timeoutId, onChange) => {\n  clearTimeout(timeoutId.current);\n  const state = getState(status);\n  setState(state);\n  latestState.current = state;\n  onChange && onChange({\n    current: state\n  });\n};\nconst useTransition = ({\n  enter = true,\n  exit = true,\n  preEnter,\n  preExit,\n  timeout,\n  initialEntered,\n  mountOnEnter,\n  unmountOnExit,\n  onStateChange: onChange\n} = {}) => {\n  const [state, setState] = useState(() => getState(initialEntered ? ENTERED : startOrEnd(mountOnEnter)));\n  const latestState = useRef(state);\n  const timeoutId = useRef();\n  const [enterTimeout, exitTimeout] = getTimeout(timeout);\n  const endTransition = useCallback(() => {\n    const status = getEndStatus(latestState.current._s, unmountOnExit);\n    status && updateState(status, setState, latestState, timeoutId, onChange);\n  }, [onChange, unmountOnExit]);\n  const toggle = useCallback(toEnter => {\n    const transitState = status => {\n      updateState(status, setState, latestState, timeoutId, onChange);\n      switch (status) {\n        case ENTERING:\n          if (enterTimeout >= 0) timeoutId.current = setTimeout(endTransition, enterTimeout);\n          break;\n        case EXITING:\n          if (exitTimeout >= 0) timeoutId.current = setTimeout(endTransition, exitTimeout);\n          break;\n        case PRE_ENTER:\n        case PRE_EXIT:\n          timeoutId.current = nextTick(transitState, status);\n          break;\n      }\n    };\n    const enterStage = latestState.current.isEnter;\n    if (typeof toEnter !== 'boolean') toEnter = !enterStage;\n    if (toEnter) {\n      !enterStage && transitState(enter ? preEnter ? PRE_ENTER : ENTERING : ENTERED);\n    } else {\n      enterStage && transitState(exit ? preExit ? PRE_EXIT : EXITING : startOrEnd(unmountOnExit));\n    }\n  }, [endTransition, onChange, enter, exit, preEnter, preExit, enterTimeout, exitTimeout, unmountOnExit]);\n  useEffect(() => () => clearTimeout(timeoutId.current), []);\n  return [state, toggle, endTransition];\n};\n\nexport { useTransition };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}